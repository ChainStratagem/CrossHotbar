<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">
  <Script file="Hotbar.lua"/>
  <Script file="CrossHotbar.lua"/>

  <Frame name="WXHBHotbarTemplate" virtual="true" inherits="SecureHandlerStateTemplate" parent="UIParent" frameStrata="PARENT" hidden="true" mixin="HotbarMixin">
    <Size x="554" y="35"/>
    <KeyValues>
      <KeyValue key="BtnPrefix" value="" type="string"/>
      <KeyValue key="Type" value="LHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.00" type="number"/>
      <KeyValue key="hasHighlights" value="false" type="boolean"/>
      <KeyValue key="ExpandedAlpha1" value="0.50" type="number"/>
      <KeyValue key="ExpandedAlpha2" value="0.50" type="number"/>
      <KeyValue key="DesatExpanded" value="1.00" type="number"/>
    </KeyValues>
    <Attributes>
      <Attribute name="actionpage" type="number" value="1"/>
      <Attribute name="activestate" type="number" value="0"/>
      <Attribute name="shownstate" type="number" value="0"/>
      <Attribute name="currentstate" type="number" value="99"/>
      <Attribute name="triggerstate" type="number" value="4"/>
      <Attribute name="shoulderstate" type="number" value="4"/>
      <Attribute name="paddlestate" type="number" value="4"/>
      <Attribute name="modifier" type="number" value="1"/>
      <Attribute name="numbindings" type="number" value="0"/>
      <Attribute name="expanded" type="number" value="0"/>
      <Attribute name="visibility" type="boolean" value="false"/>
      <Attribute name="pageindex" type="number" value="1"/>
      <Attribute name="pageprefix" type="string" value=""/>
      <Attribute name="wxhbtype" type="string" value="SHOW"/>
    </Attributes>
    <Scripts>
      <OnLoad method="OnLoad" inherit="append"/>
      <OnEvent method="OnEvent" inherit="append"/> 
    </Scripts>
  </Frame>
  
  <Frame name="WXHBCrosshotbarTemplate" virtual="true" inherits="SecureHandlerStateTemplate" parent="UIParent" frameStrata="PARENT" hidden="true" mixin="CrossHotbarMixin">
    <Size x="610" y="100"/>
    <Scripts>
      <OnLoad method="OnLoad" inherit="append"/>
      <OnEvent method="OnEvent" inherit="append"/>
    </Scripts>
  </Frame>
  
  <Button name="WXHBCrossHotbarMover" inherits="SecureActionButtonTemplate" parent="UIParent" frameStrata="MEDIUM" hidden="false" enableMouse="true" movable="true">
    <Size x="16" y="100"/>
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="enabled" value="false" type="boolean"/>
    </KeyValues>
    <Scripts>
      <OnLoad>
        self:RegisterForDrag("LeftButton")
      </OnLoad>
      <OnDragStart>        
        if not InCombatLockdown() then 
           self:StartMoving()
        end
      </OnDragStart>
      <OnDragStop>
        if not InCombatLockdown() then 
           self:StopMovingOrSizing()
        end
        if self.enabled ==false then
           WXHBCrossHotbarDrag_Texture:Hide()
           Crosshotbar:ShowGrid(false)
           WXHBDialog:Hide()
           self.enabled = false
        end
      </OnDragStop>
      <OnClick>
        if self.enabled == true then
           WXHBCrossHotbarDrag_Texture:Hide()
           Crosshotbar:ShowGrid(false)
           WXHBDialog:Hide()
           self.enabled = false
        else
           self.enabled = true
        end
      </OnClick>
      <OnMouseDown>
        if self.enabled == false then
           WXHBCrossHotbarDrag_Texture:Show()
           Crosshotbar:ShowGrid(true)
           WXHBDialog:Show()
        end
      </OnMouseDown>
      <OnEnter>
        WXHBCrossHotbarMover_Texture:SetWidth(8)
      </OnEnter>
      <OnLeave>
        WXHBCrossHotbarMover_Texture:SetWidth(2)
      </OnLeave>
    </Scripts>
    <Layers>
      <Layer level="ARTWORK">
        <Texture name="WXHBCrossHotbarMover_Texture" hidden="false">
          <Size x="2" y="60"/>
          <Color r="1.0" g="1.0" b="0.8" a="1.0"/>
          <Anchors> <Anchor point="CENTER" relativePoint="CENTER" x="0" y="0"/></Anchors>
        </Texture>
      </Layer>
      <Layer level="OVERLAY">
        <Texture name="WXHBCrossHotbarDrag_Texture" hidden="true">
          <Size x="2" y="60"/>
          <Color r="0.5" g="0.8" b="0.8" a="0.5"/>
          <Anchors> <Anchor point="CENTER" relativePoint="CENTER" x="0" y="0"/></Anchors>
        </Texture>
      </Layer>
    </Layers>
  </Button>

  <Frame name="WXHBDialog" inherits="DefaultPanelTemplate" enableMouse="true" parent="UIParent" hidden="true" frameStrata="DIALOG" movable="true">
    <Size x="320" y="150"/>
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="lastValue" value="0" type="number"/>
    </KeyValues>
    <Frames>
      <Button parentKey="CloseButton" inherits="UIPanelCloseButtonDefaultAnchors"/>  
      <Frame parentKey="DragArea" inherits="TitleDragAreaTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="WXHBDialog"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="WXHBDialog"/>
        </Anchors>
      </Frame>      
      <Frame parentKey="LayoutFrame" inherits="ResizeLayoutFrame">
        <Anchors>
          <Anchor point="CENTER" x="0" y="0"/>
        </Anchors>        
        <Frames>
          <Slider parentKey="ScaleSlider" inherits="UISliderTemplateWithLabels" obeyStepOnDrag="true">
            <Size x="200" y="20"/>
            <Anchors>
              <Anchor point="CENTER" x="0" y="0"/>
            </Anchors>            
            <Layers>
              <Layer level="ARTWORK">
                <FontString parentKey="Title" text="Scale" font="GameFontNormal" justifyH="CENTER">
                  <Size x="150" y="0"/>
                  <Anchors>
                    <Anchor point="BOTTOM" relativePoint="TOP"  x="0" y="5"/>
                  </Anchors>
                </FontString>
              </Layer>
            </Layers>
            <Scripts>
              <OnLoad>
                self:SetValueStep(10)
                self:SetMinMaxValues(50, 150)
              </OnLoad>
              <OnShow>
                local scale = Crosshotbar:GetScale()
                self:SetValue(scale*100)
              </OnShow>
              <OnValueChanged>
                if value ~= lastValue then
                   lastValue = value
                   Crosshotbar:ScaleCrosshotbar(value/100)
                end
              </OnValueChanged>
            </Scripts>
          </Slider>          
          <Button parentKey="Options" inherits="UIPanelButtonTemplate" text="Options">
            <Size x="200" y="20"/>
            <Anchors>
              <Anchor point="TOP" relativeKey="$parent.ScaleSlider" relativePoint="BOTTOM"  x="0" y="-25"/>
            </Anchors>
            <Scripts>
              <OnClick>
                SlashCmdList["CROSSHOTBAR"]()
                WXHBDialog:Hide()
              </OnClick>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
    </Frames>
    <Scripts>
      <OnLoad>
        tinsert(UISpecialFrames, self:GetName())
        self.TitleContainer.TitleText:SetText("Crosshotbar Settings")
      </OnLoad>
      <OnHide>
        WXHBCrossHotbarDrag_Texture:Hide()
        Crosshotbar:ShowGrid(false)
        WXHBCrossHotbarMover.enabled = false
      </OnHide>
    </Scripts>
  </Frame>
        
  <Frame name="Crosshotbar" inherits="WXHBCrosshotbarTemplate" parent="WXHBCrossHotbarMover" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <Attributes>
      <Attribute name="expanded" type="number" value="0"/>
      <Attribute name="triggerstate" type="number" value="4"/>
      <Attribute name="shoulderstate" type="number" value="4"/>
      <Attribute name="paddlestate" type="number" value="4"/>
      <Attribute name="activeset" type="number" value="1"/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBLHotbar1" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="LHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.15" type="number"/>
      <KeyValue key="hasHighlights" value="true" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="activestate" type="number" value="1"/>
      <Attribute name="shownstate" type="number" value="1"/>
      <Attribute name="pageindex" type="number" value="2"/>
      <Attribute name="pageprefix" type="string" value="[overridebar][possessbar][shapeshift][bonusbar:5]possess;[bonusbar:3]9;[bonusbar:1,stealth:1]8;[bonusbar:1]7;[bonusbar:4]10;"/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBLHotbar2" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="LHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.00" type="number"/>
      <KeyValue key="hasHighlights" value="false" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="pageindex" type="number" value="2"/>
      <Attribute name="pageprefix" type="string" value="[overridebar][possessbar][shapeshift][bonusbar:5]possess;[bonusbar:3]9;[bonusbar:1,stealth:1]8;[bonusbar:1]7;[bonusbar:4]10;"/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBLHotbar3" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="commandNamePrefix" value="LHOTBAR3" type="string"/>
      <KeyValue key="Type" value="LHotbar" type="string"/>
      <KeyValue key="Scaling" value="0.85" type="number"/>
      <KeyValue key="hasHighlights" value="false" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="shownstate" type="number" value="2"/>
      <Attribute name="pageindex" type="number" value="2"/>
      <Attribute name="pageprefix" type="string" value="[overridebar][possessbar][shapeshift][bonusbar:5]possess;[bonusbar:3]9;[bonusbar:1,stealth:1]8;[bonusbar:1]7;[bonusbar:4]10;"/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBRHotbar1" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="RHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.15" type="number"/>
      <KeyValue key="hasHighlights" value="true" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="activestate" type="number" value="2"/>
      <Attribute name="shownstate" type="number" value="2"/>
      <Attribute name="pageindex" type="number" value="1"/>
      <Attribute name="pageprefix" type="string" value=""/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBRHotbar2" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="RHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.00" type="number"/>
      <KeyValue key="hasHighlights" value="false" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="pageindex" type="number" value="1"/>
      <Attribute name="pageprefix" type="string" value=""/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBRHotbar3" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="RHotbar" type="string"/>
      <KeyValue key="Scaling" value="0.85" type="number"/>
      <KeyValue key="hasHighlights" value="false" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="shownstate" type="number" value="1"/>
      <Attribute name="pageindex" type="number" value="1"/>
      <Attribute name="pageprefix" type="string" value=""/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBLRHotbar1" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="LRHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.15" type="number"/>
      <KeyValue key="hasHighlights" value="true" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="activestate" type="number" value="3"/>
      <Attribute name="shownstate" type="number" value="3"/>
      <Attribute name="pageindex" type="number" value="6"/>
      <Attribute name="pageprefix" type="string" value=""/>
    </Attributes>
  </Frame>
  
  <Frame name="WXHBRLHotbar1" inherits="WXHBHotbarTemplate" parent="Crosshotbar" frameStrata="PARENT" hidden="false">
    <Anchors><Anchor point="CENTER" relativePoint="CENTER" x="0" y="0" /></Anchors>
    <KeyValues>
      <KeyValue key="Type" value="RLHotbar" type="string"/>
      <KeyValue key="Scaling" value="1.15" type="number"/>
      <KeyValue key="hasHighlights" value="true" type="boolean"/>
    </KeyValues>
    <Attributes>
      <Attribute name="activestate" type="number" value="4"/>
      <Attribute name="shownstate" type="number" value="4"/>
      <Attribute name="pageindex" type="number" value="5"/>
      <Attribute name="pageprefix" type="string" value=""/>
    </Attributes>
  </Frame>
  
</Ui>
